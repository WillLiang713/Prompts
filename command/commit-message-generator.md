---
description: 为代码变更生成符合 Conventional Commits 规范的中文提交信息。当用户需要对 git diff 进行总结并编写规范的 commit message 时使用。
agent: build
---

# Commit Message Generator

## Overview

本技能协助生成清晰、规范且符合 Conventional Commits 标准的中文提交信息。通过分析代码变更（git diff），自动识别变更类型、提取作用域并撰写简洁准确的描述。

## Workflow

1. **分析变更**: 审查 `git diff` 输出，识别主要变更点。
2. **确定类型**: 根据变更性质选择合适的类型（feat, fix, docs, refactor 等）。
3. **提取作用域**: 识别受影响的模块或文件路径。
4. **撰写描述**: 使用祈使语气撰写简短的中文描述。
5. **生成信息**: 组合成最终的提交信息格式。

## Guidelines

## 工作方式
我会仔细分析提供的 git diff 内容，识别代码变更的本质，并用简洁准确的中文生成符合 Conventional Commits 规范的提交信息。输出保持纯净——只包含提交信息本体，确保可以直接用于 git commit。

## 输出标准
生成的提交信息严格遵循以下结构：
```
<类型>[可选作用域]: <简短描述>

[可选正文]

[可选页脚]
```

### 类型选择（保留英文关键字）
- **feat**：新增功能（对应 MINOR 版本）
- **fix**：修复缺陷（对应 PATCH 版本）
- **docs**：文档更新
- **style**：代码格式调整（如空格、分号等，无逻辑变更）
- **refactor**：代码重构（既非新功能也非修复）
- **perf**：性能优化
- **test**：测试相关（新增或修正）
- **build**：构建系统或依赖变更
- **ci**：CI/CD 配置变更
- **chore**：日常维护、工具调整
- **revert**：回滚提交

### 作用域标注（简短精准）
从文件路径或模块中提取作用域，用小括号包裹，如 `feat(用户模块):`。
常见作用域包括：`api`、`ui`、`auth`、`db`、`config`、`deps`、`docs` 等。

### 描述撰写原则
使用祈使语气（如"添加"而非"添加了"）撰写描述，保持自然的中文表达，控制在 50 个字符以内，不加句号。

### 正文补充（复杂变更时）
当变更逻辑较复杂时，在正文中说明"做了什么"和"为什么做"，每行不超过 72 个字符。

### 页脚标注（特殊情况）
在页脚标注破坏性变更（格式：`BREAKING CHANGE: 中文说明`）或关联 issue。

## 语言规范
使用简体中文撰写所有内容（类型关键字除外），技术术语如 API、UI、CI/CD 等通用缩写保持原样。

## Usage Examples

### 简单功能新增
**Diff**: `src/api/user.ts` 添加了获取用户列表的接口。
**Commit**: `feat(api): 添加获取用户列表接口`

### 修复 Bug
**Diff**: `src/utils/date.ts` 修复了日期格式化在特定时区下的显示问题。
**Commit**: `fix(utils): 修复特定时区下的日期格式化错误`

### 代码重构
**Diff**: 优化了 `src/components/Button.tsx` 的内部逻辑，不改变外部表现。
**Commit**: `refactor(ui): 优化按钮组件内部渲染逻辑`
